<md-content layout="row">
  <div flex-gt-xs="25" hide-xs></div>
  <div flex-gt-xs="50" flex-xs="100">
    <md-tabs md-dynamic-height>
      <!-- First tab containg the informations about the campaign (title, description, etc.) -->
      <md-tab>
        <md-tab-label>{{'campaigns.update.tabs.informations.title' | translate}}</md-tab-label>
        <md-tab-body>
          <form ng-submit="vm.update()" name="vm.campaignEditionForm">
            <h1 translate class="main-title md-display-1">{{'campaigns.update.tabs.informations.subtitles.infos' | translate}}</h1>
            <md-content class="md-padding">
              <md-input-container class="md-block">
                <label for="campaignTitle">{{'campaigns.update.tabs.informations.labels.title' | translate}}</label>
                <input type="text" class="md-input" name="title" ng-model="vm.campaign.title" id="campaignName" required minlength="4" />
                <div ng-messages="vm.campaignEditionForm.title.$error" multiple>
                  <div ng-message="required" translate>campaigns.errors.title.blank</div>
                  <div ng-message="uniq" translate>campaigns.errors.title.uniq</div>
                  <div ng-message="minlength" translate>campaigns.errors.title.short</div>
                </div>
              </md-input-container>
              <md-input-container class="md-block">
                <label for="campaignDescription">{{'campaigns.update.tabs.informations.labels.description' | translate}}</label>
                <textarea class="campaign-description" ng-model="vm.campaign.description"></textarea>
              </md-input-container>
              <md-switch ng-model="vm.campaign.is_private">
                <span ng-if="vm.campaign.is_private">{{'common.private.f' | translate}}</span>
                <span ng-if="!vm.campaign.is_private">{{'common.public.f' | translate}}</span>
              </md-switch>
            </md-content>
            <h1 translate class="main-title md-display-1">{{'campaigns.update.tabs.informations.subtitles.tags' | translate}}</h1>
            <md-content class="md-padding">
              <md-chips
                ng-model="vm.campaign.tags"
                name="campaignTags"
                placeholder="Enter tags and press enter"
                secondary-placeholder="+ Tag"
                md-add-on-blur="true"
                md-enable-chip-edit="true"
              >
              </md-chips>
            </md-content>
            <md-content class="md-padding">
              <input type="submit" class="md-button md-raised" value="{{'common.update' | translate}}" />
            </md-content>
          </form>
        </md-tab-body>
      </md-tab>
      <!-- Second tab containing the players, and the field to invite new players. -->
      <md-tab>
        <md-tab-label>{{'campaigns.update.tabs.players.title' | translate}}</md-tab-label>
        <md-tab-body>
          <md-content layout="row" class="wrap">
            <form flex class="without-margin" ng-submit="vm.addPlayer()" name="vm.invitationForm" ng-if="vm.currentUsername == vm.campaign.creator.username">
              <md-input-container class="md-block">
                <label for="account" translate>campaigns.invitations.labels.username</label>
                <input type="text" name="account" ng-model="vm.account" required />
                <div class="hint" ng-if="!vm.invitationForm.$submitted" translate>campaigns.invitations.hints.username</div>
                <div ng-messages="vm.invitationForm.account.$error" ng-if="vm.invitationForm.$submitted">
                  <div ng-message="already_pending" translate>campaigns.invitations.errors.pending</div>
                  <div ng-message="already_accepted" translate>campaigns.invitations.errors.accepted</div>
                  <div ng-message="not_found" translate>campaigns.invitations.errors.not_found</div>
                  <div ng-message="required" translate>campaigns.invitations.errors.blank</div>
                </div>
              </md-input-container>
            </form>
          </md-content>
          <md-content layout="row">
            <div flex="50">
              <h2 class="md-headline" translate>campaigns.invitations.titles.pending</h2>
              <div ng-if="vm.invitations.pending.count == 0" translate>campaigns.invitations.placeholders.pending</div>
              <invitations collection="vm.invitations.pending" icons="true"></invitations>
            </div>
            <div flex="50" class="md-padding">
              <h2 class="md-headline" translate>campaigns.invitations.titles.accepted</h2>
              <div ng-if="vm.invitations.accepted.count == 0" translate>campaigns.invitations.placeholders.accepted</div>
              <invitations collection="vm.invitations.accepted"></invitations>
            </div>
          </md-content>
        </md-tab-body>
      </md-tab>
    </md-tabs>
  </div>
  <div flex-gt-xs="25" hide-xs></div>
</md-content>