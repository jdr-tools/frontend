<campaigns-create></campaigns-create>

<md-tabs flex layout="column" layout-align="start stretch">
  <!-- First tab gathering all the campaigns the player has joined (status == accepted) -->
  <md-tab>
    <md-tab-label>{{'campaigns.index.titles.my_games' | translate}}</md-tab-label>
    <md-tab-body>
      <div class="tab-placeholder-wrapper" layout="column" layout-align="end center" ng-if="vm.invitations.length <= 0">
        <div><md-icon class="md-big-icon" md-colors="{color: 'grey-300'}">view_module</md-icon></div>
        <p class="md-title" md-colors="{color: 'grey-400'}">{{'campaigns.index.placeholders.invitations' | translate}}</p>
      </div>
      <div class="md-padding" layout="row" layout-xs="column">
        <campaign-card flex-gt-sm="25" flex-xs="auto" ng-repeat="invitation in vm.invitations" campaign="invitation.campaign">
          <md-button ui-sref="campaigns.play({id: invitation.campaign.id})" class="md-icon-button">
            <md-tooltip md-direction="top" hide-xs>{{'campaigns.index.tooltips.play' | translate}}</md-tooltip>
            <md-icon>play_arrow</md-icon>
          </md-button>
          <md-button ng-click="vm.leave(invitation)" class="md-icon-button">
            <md-tooltip md-direction="top" hide-xs>{{'campaigns.index.tooltips.leave' | translate}}</md-tooltip>
            <md-icon>no_meeting_room</md-icon>
          </md-button>
        </campaign-card>
      </div>
    </md-tab-body>
  </md-tab>

  <!-- Second tab, gathering all the campaigns created by the current user -->
  <md-tab>
    <md-tab-label>{{'campaigns.index.titles.my_creations' | translate}}</md-tab-label>
    <md-tab-body>
      <div class="tab-placeholder-wrapper" ng-if="vm.creations.items.length <= 0" layout="column" layout-align="end center">
        <div><md-icon class="md-big-icon" md-colors="{color: 'grey-300'}">view_module</md-icon></div>
        <p class="md-title" md-colors="{color: 'grey-400'}">{{'campaigns.index.placeholders.creations' | translate}}</p>
      </div>
      <div ng-if="vm.creations.items.length > 0" class="md-padding" layout="row" layout-xs="column">
        <campaign-card flex-gt-sm="25" flex-xs="auto" ng-repeat="campaign in vm.creations.items" campaign="campaign">
          <md-button ui-sref="campaigns.play({id: campaign.id})" class="md-icon-button">
            <md-tooltip md-direction="top" hide-xs>{{'campaigns.index.tooltips.play' | translate}}</md-tooltip>
            <md-icon>play_arrow</md-icon>
          </md-button>
          <md-button ui-sref="campaigns.edit({id: campaign.id})" class="md-icon-button">
            <md-tooltip md-direction="top" hide-xs>{{'campaigns.index.tooltips.edit' | translate}}</md-tooltip>
            <md-icon>edit</md-icon>
          </md-button>
          <md-button ng-click="vm.delete(campaign)" class="md-icon-button">
            <md-tooltip md-direction="top" hide-xs>{{'campaigns.index.tooltips.delete' | translate}}</md-tooltip>
            <md-icon>delete_forever</md-icon>
          </md-button>
        </campaign-card>
      </div>
    </md-tab-body>
  </md-tab>
</md-tabs>