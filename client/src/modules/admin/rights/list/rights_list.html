<h1>
  <span translate></span>&nbsp;
  <a class="btn btn-light text-dark" role="button" data-toggle="collapse" data-target="#collapseCreateCategory" aria-expanded="false" aria-controls="collapseCreateCategory">
    <i class="fa fa-plus text-dark"></i>&nbsp;&nbsp;
    <span translate>rights.categories.buttons.create</span>
  </a>
</h1>

<div class="collapse mt-2 mb-2" id="collapseCreateCategory">
  <form class="form-inline" ng-submit="vm.createCategory()">
    <div class="input-group">
      <input type="text" class="form-control" ng-model="vm.category.slug" required translate translate-attr-placeholder="rights.categories.create.placeholders.slug" />
    </div>
    <input type="submit" class="btn btn-primary ml-2" translate translate-attr-value="rights.categories.buttons.validate" />
  </form>
</div>

<div ng-if="vm.categories.length">
  <div ng-repeat="category in vm.categories">
    <div class="row align-items-center">
      <h3 class="col-xs-auto">{{category.slug}}</h3>
      <div class="col text-muted">{{category.id}}</div>
      <div class="col-xs-auto text-right">
        <a ng-click="vm.deleteCategory(category.id)"><i class="fa fa-trash"></i></a>
      </div>
    </div>
    <table class="table">
      <thead>
        <tr>
          <th translate>rights.list.headers.id</th>
          <th translate>rights.list.headers.slug</th>
          <th translate>rights.list.headers.groups</th>
          <th translate>common.actions</th>
        </tr>
      </thead>
      <tbody>
        <tr ng-repeat="right in category.rights">
          <td><span class="text-muted">{{right.id}}</span>&nbsp;-&nbsp;{{right.slug}}</td>
          <td>{{right.groups}}</td>
          <td>
            <a ng-click="vm.deleteRight(right.id)"><i class="fa fa-trash"></i></a>
          </td>
        </tr>
      </tbody>
      <tfoot>
        <tr>
          <td colspan="2">
            <form class="form-inline" ng-submit="vm.createRight(category.id)">
              <div class="input-group">
                <input type="text" class="form-control" ng-model="vm.rights[category.id]" />
              </div>
              <input type="submit" class="btn btn-primary ml-2" translate translate-attr-value="rights.categories.buttons.validate" />
            </form>
          </td>
        </tr>
      </tfoot>
    </table>
  </div>
</div>
<div ng-if="!vm.categories.length">Aucun catégorie à afficher</div>